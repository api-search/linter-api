{"version":3,"file":"index.iife.min.js","sources":["../../src/index.js"],"sourcesContent":["const FSLASH_CODE = 47; // '/'\r\n\r\nexport default {\r\n\tname: 'regex',\r\n\r\n\tinit(jsep) {\r\n\t\t// Regex literal: /abc123/ig\r\n\t\tjsep.hooks.add('gobble-token', function gobbleRegexLiteral(env) {\r\n\t\t\tif (this.code === FSLASH_CODE) {\r\n\t\t\t\tconst patternIndex = ++this.index;\r\n\r\n\t\t\t\twhile (this.index < this.expr.length) {\r\n\t\t\t\t\tif (this.char === '/') {\r\n\t\t\t\t\t\tconst pattern = this.expr.slice(patternIndex, this.index);\r\n\r\n\t\t\t\t\t\tlet flags = '';\r\n\t\t\t\t\t\twhile (++this.index < this.expr.length) {\r\n\t\t\t\t\t\t\tconst code = this.code;\r\n\t\t\t\t\t\t\tif ((code >= 97 && code <= 122) // a...z\r\n\t\t\t\t\t\t\t\t|| (code >= 65 && code <= 90) // A...Z\r\n\t\t\t\t\t\t\t\t|| (code >= 48 && code <= 57)) { // 0-9\r\n\t\t\t\t\t\t\t\tflags += this.char;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tlet value;\r\n\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\tvalue = new RegExp(pattern, flags);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tcatch (e) {\r\n\t\t\t\t\t\t\tthis.throwError(e.message);\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tenv.node = {\r\n\t\t\t\t\t\t\ttype: jsep.LITERAL,\r\n\t\t\t\t\t\t\tvalue,\r\n\t\t\t\t\t\t\traw: this.expr.slice(patternIndex - 1, this.index),\r\n\t\t\t\t\t\t};\r\n\r\n\t\t\t\t\t\t// allow . [] and () after regex: /regex/.test(a)\r\n\t\t\t\t\t\tenv.node = this.gobbleTokenProperty(env.node);\r\n\t\t\t\t\t\treturn env.node;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.index += 1;\r\n\t\t\t\t}\r\n\t\t\t\tthis.throwError('Unclosed Regex');\r\n\t\t\t}\r\n\t\t});\r\n\t},\r\n};\r\n"],"names":["name","[object Object]","jsep","hooks","add","env","this","code","patternIndex","index","expr","length","char","pattern","slice","value","flags","RegExp","e","throwError","message","node","type","LITERAL","raw","gobbleTokenProperty"],"mappings":"wCAEe,CACdA,KAAM,QAENC,KAAKC,GAEJA,EAAKC,MAAMC,IAAI,gBAAgB,SAA4BC,GAC1D,GARiB,KAQbC,KAAKC,KAAsB,CAC9B,MAAMC,IAAiBF,KAAKG,MAE5B,KAAOH,KAAKG,MAAQH,KAAKI,KAAKC,QAAQ,CACrC,GAAkB,MAAdL,KAAKM,KAAc,CACtB,MAAMC,EAAUP,KAAKI,KAAKI,MAAMN,EAAcF,KAAKG,OAEnD,IAaIM,EAbAC,EAAQ,GACZ,OAASV,KAAKG,MAAQH,KAAKI,KAAKC,QAAQ,CACvC,MAAMJ,EAAOD,KAAKC,KAClB,KAAKA,GAAQ,IAAMA,GAAQ,KACtBA,GAAQ,IAAMA,GAAQ,IACtBA,GAAQ,IAAMA,GAAQ,IAI1B,MAHAS,GAASV,KAAKM,KAQhB,IACCG,EAAQ,IAAIE,OAAOJ,EAASG,GAE7B,MAAOE,GACNZ,KAAKa,WAAWD,EAAEE,SAWnB,OARAf,EAAIgB,KAAO,CACVC,KAAMpB,EAAKqB,QACXR,MAAAA,EACAS,IAAKlB,KAAKI,KAAKI,MAAMN,EAAe,EAAGF,KAAKG,QAI7CJ,EAAIgB,KAAOf,KAAKmB,oBAAoBpB,EAAIgB,MACjChB,EAAIgB,KAEZf,KAAKG,OAAS,EAEfH,KAAKa,WAAW"}